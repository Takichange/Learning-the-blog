name: Build and Deploy Github Pages
on:
  # æ¯å½“ push åˆ° main åˆ†æ”¯æ—¶è§¦å‘éƒ¨ç½²
  push:
    branches: [main]

    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3

jobs:
  docs:
    runs-on: ubuntu-latest

      steps:
      # æ‹‰å–ä»£ç 
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3
        with:
          # â€œæœ€è¿‘æ›´æ–°æ—¶é—´â€ ç­‰ git æ—¥å¿—ç›¸å…³ä¿¡æ¯ï¼Œéœ€è¦æ‹‰å–å…¨éƒ¨æäº¤è®°å½•
          fetch-depth: 0

      # è¿è¡Œæ„å»ºè„šæœ¬
      - name: Build VuePress site
        run: yarn install && yarn docs:build

       - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4.3.0
        with:
          branch: gh-pages 
          folder: docs/.vuepress/dist
          ssh-key: ${{ secrets.ACCESS_TOKEN }}